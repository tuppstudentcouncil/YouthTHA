<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Youth THA</title>
  <link rel="icon" href="Youth THA.jpg" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --teal:#175f5c;        /* ‡∏™‡∏µ‡∏ò‡∏µ‡∏° ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå */
      --teal-dark:#0d3d3b;
      --text:#111827;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Sarabun',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
      background: var(--teal);
      min-height:100vh;padding:20px;
    }

    /* ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏ñ‡∏ö‡∏ö‡∏ô‡∏™‡∏∏‡∏î */
    .logo-banner{
      width:100%;position:relative;overflow:hidden;border-radius:16px;
      box-shadow:0 12px 28px rgba(0,0,0,.18);margin:0 auto 16px;
    }
    .logo-banner img{width:100%;height:auto;display:block;object-fit:cover}
    @media (max-width:768px){ .logo-banner{border-radius:12px} }

    .container{
      max-width:980px;margin:0 auto;
      background:rgba(255,255,255,0.95);
      backdrop-filter:blur(10px);
      border-radius:20px;box-shadow:0 20px 40px rgba(0,0,0,.18);
      overflow:hidden;animation:slideUp .6s ease-out;
    }
    @keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}

    /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÄ‡∏õ‡πá‡∏ô #175f5c */
    .header{
      background: var(--teal);
      color:#fff;padding:30px;text-align:center;position:relative;overflow:hidden;
    }
    .header::before{
      content:'';position:absolute;inset:0;
      background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.12)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      opacity:.35;
    }
    .header h1{font-size:2.2rem;margin-bottom:10px;position:relative;z-index:1}
    .header p{font-size:1.1rem;opacity:.9;position:relative;z-index:1}

    /* Tabs */
    .tabs{
      display:flex;gap:10px;padding:14px 20px;background:#fff;border-bottom:1px solid #e5e7eb;
      position:sticky;top:0;z-index:10;flex-wrap:wrap
    }
    .tab-btn{
      flex:0 0 auto;padding:10px 16px;border:2px solid #e5e7eb;border-radius:12px;background:#fff;
      font-weight:700;cursor:pointer;transition:.25s;color:#374151;
    }
    .tab-btn:hover{border-color:#9ca3af;transform:translateY(-1px)}
    .tab-btn.active{background:linear-gradient(135deg,#175f5c,#5e908d);color:#fff;border-color:transparent;box-shadow:0 8px 18px rgba(79,70,229,.25)}

    .section{display:none;padding:24px 24px 36px}
    .section.active{display:block}

    .form-container{padding:8px 0 0}

    .form-group{margin-bottom:25px;position:relative;transition:all .3s ease}
    .form-group label{display:block;margin-bottom:8px;font-weight:600;color:#374151;font-size:1rem}
    .required{color:#ef4444}

    /* base control */
    .form-control{
      width:100%;padding:15px;border:2px solid var(--teal-dark);border-radius:12px;font-size:1rem;
      transition:.3s;background:var(--teal);color:#fff;
    }
    .form-control:hover{border-color:#ffffffaa}
    .form-control::placeholder{color:#d1d5db}

    /* ‡∏ä‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå: ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏ß */
    input.form-control:not([type="radio"]):not([type="checkbox"]),
    textarea.form-control{
      background:#ffffff;color:#111827;
    }
    input.form-control:not([type="radio"]):not([type="checkbox"]):focus,
    textarea.form-control:focus{
      outline:none;border-color:var(--teal);
      box-shadow:0 0 0 3px rgba(23,95,92,.25);
      transform:translateY(-2px);
    }
    input.form-control::placeholder,
    textarea.form-control::placeholder{color:#6b7280}

    /* select (dropdown) */
    select.form-control{
      appearance:none;-webkit-appearance:none;-moz-appearance:none;
      background-image:url("data:image/svg+xml;utf8,<svg fill='white' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
      background-repeat:no-repeat;background-position:right 12px center;background-size:20px;padding-right:44px
    }
    select.form-control:focus{
      outline:none;border-color:#ffffff;box-shadow:0 0 0 3px rgba(255,255,255,.25);transform:translateY(-2px)
    }

    .priority-group{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-top:10px}
    .priority-option{position:relative}
    .priority-option input[type="radio"]{position:absolute;opacity:0}
    .priority-label{
      display:block;padding:15px;border:2px solid #e5e7eb;border-radius:12px;text-align:center;cursor:pointer;
      transition:.25s;background:#fff;font-weight:500;color:var(--text);
    }
    .priority-option input[type="radio"]:checked+.priority-label{border-color:#4f46e5;background:#4f46e5;color:#fff;transform:scale(1.05)}
    .priority-low{border-color:#10b981!important}.priority-option input[type="radio"]:checked+.priority-low{background:#10b981!important;color:#fff}
    .priority-medium{border-color:#f59e0b!important}.priority-option input[type="radio"]:checked+.priority-medium{background:#f59e0b!important;color:#fff}
    .priority-high{border-color:#ef4444!important}.priority-option input[type="radio"]:checked+.priority-high{background:#ef4444!important;color:#fff}

    .submit-btn{
      width:100%;padding:18px;background:linear-gradient(135deg,#175f5c,#5e908d);color:#fff;border:none;border-radius:12px;
      font-size:1.1rem;font-weight:600;cursor:pointer;transition:.3s;margin-top:20px;position:relative;overflow:hidden
    }
    .submit-btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(79,70,229,.3)}
    .submit-btn:active{transform:translateY(0)}
    .submit-btn::before{
      content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s
    }
    .submit-btn:hover::before{left:100%}

    .success-message{
      display:none;background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:20px;border-radius:12px;margin-top:20px;text-align:center;
      animation:fadeIn .5s ease-out
    }
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

    .floating-elements{position:fixed;inset:0;pointer-events:none;z-index:-1}
    .floating-circle{position:absolute;border-radius:50%;background:rgba(255,255,255,.1);animation:float 6s ease-in-out infinite}
    .floating-circle:nth-child(1){width:80px;height:80px;top:20%;left:10%;animation-delay:0s}
    .floating-circle:nth-child(2){width:120px;height:120px;top:60%;right:10%;animation-delay:2s}
    .floating-circle:nth-child(3){width:60px;height:60px;bottom:20%;left:20%;animation-delay:4s}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢ */
    .developer-button{
      position:fixed;bottom:20px;right:20px;background:#1e88e5;color:#fff;padding:12px 20px;border-radius:30px;text-decoration:none;
      font-size:.95rem;box-shadow:0 4px 10px rgba(0,0,0,.2);transition:.3s;z-index:1000
    }
    .developer-button:hover{background:#1565c0;transform:translateY(-2px)}

    .track-button{
      position:fixed;bottom:20px;left:20px;background:var(--teal-dark);color:#fff;padding:12px 20px;border-radius:30px;text-decoration:none;
      font-size:.95rem;box-shadow:0 4px 10px rgba(0,0,0,.2);transition:.3s;z-index:1000
    }
    .track-button:hover{background:#094240;transform:translateY(-2px)}

    .status-tip{margin:-6px 0 14px;color:#374151;font-size:.95rem;opacity:.85}
    .looker-wrap{width:100%;height:70vh;border:0;border-radius:14px;box-shadow:0 10px 24px rgba(0,0,0,.08)}

    /* ===== ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏° ===== */
    .game-card{
      background:#fff;border:2px solid #e5e7eb;border-radius:16px;padding:20px;box-shadow:0 10px 24px rgba(0,0,0,.06);
      max-width:820px;margin:0 auto
    }
    .game-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;gap:10px;flex-wrap:wrap}
    .pill{padding:6px 12px;border-radius:999px;border:2px solid #e5e7eb;background:#f9fafb;font-weight:600;font-size:.95rem}
    .game-q{font-size:1.15rem;font-weight:700;color:#0f172a;margin:10px 0 12px}
    .choices{display:grid;gap:12px}
    .choice{
      text-align:left;border:2px solid #e5e7eb;background:#fff;padding:14px;border-radius:12px;cursor:pointer;font-weight:600;transition:.2s
    }
    .choice:hover{transform:translateY(-1px);border-color:#c7cbd1}
    .choice.correct{border-color:#10b981;background:#ecfdf5}
    .choice.wrong{border-color:#ef4444;background:#fef2f2}
    .explain{margin-top:12px;background:#f8fafc;border:2px solid #e5e7eb;border-radius:12px;padding:12px;display:none}
    .game-actions{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .btn{
      padding:12px 16px;border-radius:12px;border:none;cursor:pointer;font-weight:700
    }
    .btn-primary{background:linear-gradient(135deg,#175f5c,#5e908d);color:#fff}
    .btn-secondary{background:#ffffff;border:2px solid #e5e7eb}
    .progress-wrap{height:10px;background:#e5e7eb;border-radius:999px;overflow:hidden}
    .progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#16a34a,#22c55e)}
    .score-big{font-size:1.5rem;font-weight:800;color:#065f46;text-align:center;margin:10px 0 2px}
    .badge{display:inline-block;margin:8px auto 0;padding:6px 12px;border-radius:999px;font-weight:700}
    .badge.gold{background:#fff7d6;border:2px solid #f5d565;color:#92400e}
    .badge.silver{background:#eef2ff;border:2px solid #c7d2fe;color:#3730a3}
    .badge.bronze{background:#fde68a;border:2px solid #fbbf24;color:#92400e}

    @media (max-width:768px){
      .container{margin:0 10px}
      .header h1{font-size:1.8rem}
      .tabs{gap:8px;padding:12px 12px}
      .tab-btn{padding:9px 12px;font-size:.95rem}
      .priority-group{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤ -->
  <div id="languageSwitcher" style="position: fixed; top: 20px; left: 20px; z-index: 999;">
    <select id="languageSelect" style="padding:8px 12px;border-radius:10px;font-weight:600;font-family:'Sarabun';background:white;border:2px solid #ccc;box-shadow:0 2px 6px rgba(0,0,0,0.1);transition:.3s">
      <option value="th">  TH ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ </option>
      <option value="en">  US English </option>
    </select>
  </div>

  <!-- ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á -->
  <div class="floating-elements">
    <div class="floating-circle"></div>
    <div class="floating-circle"></div>
    <div class="floating-circle"></div>
  </div>

  <!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏ñ‡∏ö‡∏ö‡∏ô‡∏™‡∏∏‡∏î -->
  <div class="logo-banner" aria-label="Youth THA Logo">
    <img src="Youth THA.jpg" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ Youth THA" />
  </div>

  <div class="container">
    <div class="header">
      <h1 id="title">Youth THA</h1>
      <p id="subtitle">‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°</p>
    </div>

    <!-- Tabs -->
    <nav class="tabs" role="tablist" aria-label="main navigation">
      <button id="tab-form" class="tab-btn active" role="tab" aria-selected="true" aria-controls="section-form">üìù ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</button>
      <button id="tab-status" class="tab-btn" role="tab" aria-selected="false" aria-controls="section-status">üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
      <button id="tab-game" class="tab-btn" role="tab" aria-selected="false" aria-controls="section-game">üéÆ ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</button>
    </nav>

    <!-- Section: Form -->
    <section id="section-form" class="section active" role="tabpanel" aria-labelledby="tab-form">
      <div class="form-container">
        <form id="repairForm">
          <div class="form-group">
            <label for="studentName" id="label-name">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="required">*</span></label>
            <input type="text" id="studentName" class="form-control" required placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏´‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏≠‡∏≠‡∏Å‡∏ô‡∏≤‡∏°" />
          </div>

          <!-- dropdown ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô -->
          <div class="form-group">
            <label for="reportType" id="label-id">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô <span class="required">*</span></label>
            <select id="reportType" class="form-control" required>
              <option value="" id="opt-placeholder">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
              <option value="‡πÄ‡∏™‡∏ô‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô" id="opt-idea">‡πÄ‡∏™‡∏ô‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</option>
              <option value="‡πÄ‡∏™‡∏ô‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤" id="opt-issue">‡πÄ‡∏™‡∏ô‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤</option>
              <option value="‡πÄ‡∏™‡∏ô‡∏≠‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢" id="opt-policy">‡πÄ‡∏™‡∏ô‡∏≠‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢</option>
              <option value="‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡∏û‡∏ö‡πÄ‡∏à‡∏≠" id="opt-selfreport">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡∏û‡∏ö‡πÄ‡∏à‡∏≠</option>
            </select>
          </div>

          <div class="form-group">
            <label for="location" id="label-location">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà/‡∏´‡πâ‡∏≠‡∏á <span class="required">*</span></label>
            <input type="text" id="location" class="form-control" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 3205, ‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå, ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥" />
          </div>

          <div class="form-group">
            <label for="equipment" id="label-equipment">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏° <span class="required">*</span></label>
            <input type="text" id="equipment" class="form-control" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü, ‡∏û‡∏±‡∏î‡∏•‡∏°, ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏®" />
          </div>

          <div class="form-group">
            <label for="problemDescription" id="label-problem">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤ <span class="required">*</span></label>
            <textarea id="problemDescription" class="form-control" required placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥, ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢"></textarea>
          </div>

          <div class="form-group">
            <label id="label-priority">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô <span class="required">*</span></label>
            <div class="priority-group">
              <div class="priority-option">
                <input type="radio" id="priorityLow" name="priority" value="‡∏ï‡πà‡∏≥" required />
                <label for="priorityLow" class="priority-label priority-low" id="priority-low-label">
                  üü¢ <span id="priority-low-text">‡∏ï‡πà‡∏≥</span><br/>
                  <small id="priority-low-desc">‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</small>
                </label>
              </div>
              <div class="priority-option">
                <input type="radio" id="priorityMedium" name="priority" value="‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á" required />
                <label for="priorityMedium" class="priority-label priority-medium" id="priority-medium-label">
                  üü° <span id="priority-medium-text">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span><br/>
                  <small id="priority-medium-desc">‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á</small>
                </label>
              </div>
              <div class="priority-option">
                <input type="radio" id="priorityHigh" name="priority" value="‡∏™‡∏π‡∏á" required />
                <label for="priorityHigh" class="priority-label priority-high" id="priority-high-label">
                  üî¥ <span id="priority-high-text">‡∏™‡∏π‡∏á</span><br/>
                  <small id="priority-high-desc">‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô</small>
                </label>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="contactInfo" id="label-contact">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö</label>
            <input type="text" id="contactInfo" class="form-control" placeholder="Line ID ‡∏´‡∏£‡∏∑‡∏≠ Instagram account ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)" />
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">üì§ ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°</button>

          <div id="successMessage" class="success-message">
            <h3 id="successTitle">‚úÖ ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!</h3>
            <p id="successDetail">‡∏ó‡∏≤‡∏á‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ì‡∏∞‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡∏°‡∏ä‡πà‡∏≤‡∏á‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡πá‡∏ß <br/>
              ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô: <span id="reportNumber"></span>
            </p>
            <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡πÉ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå) -->
            <button type="button" id="trackStatusBtn2" class="submit-btn" style="background:linear-gradient(135deg,var(--teal),#0d3d3b);margin-top:10px">
              üîé ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Section: Status (Looker Studio) -->
    <section id="section-status" class="section" role="tabpanel" aria-labelledby="tab-status">
      <p class="status-tip" id="statusTip">‡πÅ‡∏ú‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Looker Studio ‡πÅ‡∏ö‡∏ö‡∏ù‡∏±‡∏á‡∏ï‡∏±‡∏ß ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï ‚ÄúEmbed report‚Äù</p>
      <iframe class="looker-wrap"
        title="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏° (Looker Studio)"
        loading="lazy"
        allowfullscreen
        src="https://lookerstudio.google.com/embed/reporting/aca61a0e-718b-4480-8a8b-01769db8ad8f/page/Xgy7D">
      </iframe>
    </section>

    <!-- Section: Game -->
    <section id="section-game" class="section" role="tabpanel" aria-labelledby="tab-game">
      <div class="game-card">
        <div class="game-header">
          <span class="pill" id="gameTitle">üéÆ ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</span>
          <span class="pill" id="progressText">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1/6</span>
        </div>
        <div class="progress-wrap" aria-hidden="true"><div id="progressBar" class="progress-bar"></div></div>
        <div class="game-q" id="gameQuestion">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
        <div class="choices" id="choicesWrap"></div>
        <div class="explain" id="explainBox"></div>
        <div class="game-actions">
          <button class="btn btn-secondary" id="btnSkip">‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ</button>
          <button class="btn btn-primary" id="btnNext" disabled>‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ</button>
          <button class="btn btn-secondary" id="btnRestart" style="display:none">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
        </div>
        <div class="score-big" id="scoreBox" style="display:none"></div>
        <div id="badgeBox" style="text-align:center;"></div>
      </div>
    </section>
  </div>

  <a href="developer.html" class="developer-button" id="developerBtn">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤</a>
  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö JS ‡πÄ‡∏î‡∏¥‡∏°) -->
  <a href="#" class="track-button" id="trackStatusBtn">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</a>

  <script>
    // ===== Translations =====
    const translations = {
      th: {
        title: "Youth THA",
        subtitle: "‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏ô‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡πÄ‡∏™‡∏ô‡∏≠‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê",
        labelName: "‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•",
        placeholderName: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•",
        labelId: "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",
        reportTypePlaceholder: "-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --",
        reportTypeIdea: "‡πÄ‡∏™‡∏ô‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",
        reportTypeIssue: "‡πÄ‡∏™‡∏ô‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤",
        reportTypePolicy: "‡πÄ‡∏™‡∏ô‡∏≠‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢",
        reportTypeSelf: "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡∏û‡∏ö‡πÄ‡∏à‡∏≠",
        labelLocation: "‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å",
        placeholderLocation: "‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á",
        labelEquipment: "‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£",
        placeholderEquipment: "‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô, ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
        labelProblem: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏™‡∏ô‡∏≠",
        placeholderProblem: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î",
        labelPriority: "‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô",
        priorityLow: "‡∏ï‡πà‡∏≥", priorityLowDesc: "‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å",
        priorityMedium: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", priorityMediumDesc: "‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏∂‡∏á",
        priorityHigh: "‡∏™‡∏π‡∏á", priorityHighDesc: "‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô",
        labelContact: "‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)",
        placeholderContact: "Line ID ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ú‡πà‡∏≤‡∏ô LineOA",
        submitBtn: "üì§ ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",
        submitBtnLoading: "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...",
        successTitle: "‚úÖ ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!",
        successDetail: "‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡πÄ‡∏™‡∏ô‡∏≠‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê <br>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô:",
        developerBtn: "‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤",
        errorMessage: "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á",
        menuForm: "üìù ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",
        menuStatus: "üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",
        menuGame: "üéÆ ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà",
        statusTip: "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÅ‡∏à‡πâ‡∏á‡∏°‡∏≤ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå",
        trackBtn: "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞",

        // Game strings
        gameTitle: "üéÆ ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà",
        gameSkip: "‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ",
        gameNext: "‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ",
        gameRestart: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà",
        gameExplainTitle: "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:",
        gameResult: (score, total) => `‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡πÑ‡∏î‡πâ ${score}/${total} ‡∏Ç‡πâ‡∏≠`,
        gameBadgeGold: "‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏£‡∏π‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ",
        gameBadgeSilver: "‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏ï‡πá‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡∏Å‡πá‡πÄ‡∏û‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏Å‡∏ï‡πå",
        gameBadgeBronze: "‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤"
      },
      en: {
        title: "Youth THA",
        subtitle: "Channeling public opinion and issues to government authorities.",
        labelName: "Full Name",
        placeholderName: "Please enter your first and last name.",
        labelId: "Report Type",
        reportTypePlaceholder: "-- Choose a type --",
        reportTypeIdea: "Submit a suggestion",
        reportTypeIssue: "Raise an issue",
        reportTypePolicy: "Propose a policy",
        reportTypeSelf: "Report an incident you found",
        labelLocation: "Your message",
        placeholderLocation: "Such as policies that you want to make",
        labelEquipment: "Who does this benefit?",
        placeholderEquipment: "Such as people in the community, the general public",
        labelProblem: "Problem Description",
        placeholderProblem: "Describe the problem, impacts, or suspected causes",
        labelPriority: "Urgency Level",
        priorityLow: "Low", priorityLowDesc: "Not urgent",
        priorityMedium: "Medium", priorityMediumDesc: "Moderately urgent",
        priorityHigh: "High", priorityHighDesc: "Urgent",
        labelContact: "Contact Information (not compulsory)",
        placeholderContact: "Line ID to track repair status with LineOA",
        submitBtn: "üì§ Submit Report",
        submitBtnLoading: "‚è≥ Submitting...",
        successTitle: "‚úÖ Report Submitted Successfully!",
        successDetail: "We will coordinate promptly.<br>Report ID:",
        developerBtn: "About Developer",
        errorMessage: "An error occurred while submitting the data. Please try again.",
        menuForm: "üìù Form",
        menuStatus: "üìä Status",
        menuGame: "üéÆ Rights & Duties Mini-Game",
        statusTip: "Status is updated in real time",
        trackBtn: "Track status",

        // Game strings
        gameTitle: "üéÆ Rights & Duties Mini-Game",
        gameSkip: "Skip",
        gameNext: "Next",
        gameRestart: "Restart",
        gameExplainTitle: "Why:",
        gameResult: (score, total) => `Your score: ${score}/${total}`,
        gameBadgeGold: "Excellent! Strong civic awareness",
        gameBadgeSilver: "Great! A bit more to master it",
        gameBadgeBronze: "Nice start! Try again to improve"
      }
    };

    // ===== Google Sheets URL (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ç‡∏≠) =====
    const GOOGLE_SHEETS_URL = 'https://script.google.com/macros/s/AKfycbzXTzAaDdr7FtX5aTwVOQhTFwuPsPevmXMfmDUFYeKXEmTADjerGVzXVBur2S5IyQ/exec';

    let reportCounter = 1;
    let currentLanguage = 'th';

    function formatBangkokCE(date = new Date()){
      const parts = new Intl.DateTimeFormat('en-GB', {
        timeZone: 'Asia/Bangkok',
        year:'numeric',month:'2-digit',day:'2-digit',
        hour:'2-digit',minute:'2-digit',second:'2-digit',
        hour12:false
      }).formatToParts(date);
      const get = (t)=>parts.find(p=>p.type===t)?.value||'';
      return `${get('day')}/${get('month')}/${get('year')} ${get('hour')}:${get('minute')}:${get('second')}`;
    }

    function switchLanguage(lang){
      currentLanguage = lang;
      const t = translations[lang];

      const els = [
        '#title','#subtitle','#label-name','#label-id','#label-location',
        '#label-equipment','#label-problem','#label-priority','#label-contact',
        '#submitBtn','#successTitle','#successDetail','#developerBtn',
        '#priority-low-text','#priority-medium-text','#priority-high-text',
        '#priority-low-desc','#priority-medium-desc','#priority-high-desc',
        '#tab-form','#tab-status','#statusTip','#opt-placeholder',
        '#opt-idea','#opt-issue','#opt-policy','#opt-selfreport',
        '#tab-game','#gameTitle','#btnSkip','#btnNext','#btnRestart',
        '#trackStatusBtn'
      ];
      els.forEach(sel=>{const el=document.querySelector(sel); if(el) el.style.opacity='0'});

      setTimeout(()=>{
        document.getElementById('title').textContent = t.title;
        document.getElementById('subtitle').textContent = t.subtitle;
        document.getElementById('label-name').innerHTML = `${t.labelName} <span class="required">*</span>`;
        document.getElementById('label-id').innerHTML = `${t.labelId} <span class="required">*</span>`;
        document.getElementById('label-location').innerHTML = `${t.labelLocation} <span class="required">*</span>`;
        document.getElementById('label-equipment').innerHTML = `${t.labelEquipment} <span class="required">*</span>`;
        document.getElementById('label-problem').innerHTML = `${t.labelProblem} <span class="required">*</span>`;
        document.getElementById('label-priority').innerHTML = `${t.labelPriority} <span class="required">*</span>`;
        document.getElementById('label-contact').textContent = t.labelContact;

        document.getElementById('submitBtn').textContent = t.submitBtn;
        document.getElementById('successTitle').textContent = t.successTitle;
        document.getElementById('successDetail').innerHTML = `${t.successDetail} <span id="reportNumber"></span>`;
        document.getElementById('developerBtn').textContent = t.developerBtn;

        // placeholders
        document.getElementById('studentName').placeholder = t.placeholderName;
        document.getElementById('location').placeholder = t.placeholderLocation;
        document.getElementById('equipment').placeholder = t.placeholderEquipment;
        document.getElementById('problemDescription').placeholder = t.placeholderProblem;
        document.getElementById('contactInfo').placeholder = t.placeholderContact;

        // dropdown texts
        document.getElementById('opt-placeholder').textContent = t.reportTypePlaceholder;
        document.getElementById('opt-idea').textContent = t.reportTypeIdea;
        document.getElementById('opt-issue').textContent = t.reportTypeIssue;
        document.getElementById('opt-policy').textContent = t.reportTypePolicy;
        document.getElementById('opt-selfreport').textContent = t.reportTypeSelf;

        // priority labels & values
        document.getElementById('priority-low-text').textContent = t.priorityLow;
        document.getElementById('priority-medium-text').textContent = t.priorityMedium;
        document.getElementById('priority-high-text').textContent = t.priorityHigh;
        document.getElementById('priority-low-desc').textContent = t.priorityLowDesc;
        document.getElementById('priority-medium-desc').textContent = t.priorityMediumDesc;
        document.getElementById('priority-high-desc').textContent = t.priorityHighDesc;

        document.getElementById('priorityLow').value = t.priorityLow;
        document.getElementById('priorityMedium').value = t.priorityMedium;
        document.getElementById('priorityHigh').value = t.priorityHigh;

        // tabs
        document.getElementById('tab-form').textContent = t.menuForm;
        document.getElementById('tab-status').textContent = t.menuStatus;
        document.getElementById('tab-game').textContent = t.menuGame;
        document.getElementById('statusTip').textContent = t.statusTip;

        // track buttons text
        const tb1 = document.getElementById('trackStatusBtn');
        const tb2 = document.getElementById('trackStatusBtn2');
        if (tb1) tb1.textContent = t.trackBtn;
        if (tb2) tb2.textContent = t.trackBtn;

        // game labels
        document.getElementById('gameTitle').textContent = t.gameTitle;
        document.getElementById('btnSkip').textContent = t.gameSkip;
        document.getElementById('btnNext').textContent = t.gameNext;
        document.getElementById('btnRestart').textContent = t.gameRestart;

        // ‡∏£‡∏µ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤
        renderQuestion();

        els.forEach(sel=>{const el=document.querySelector(sel); if(el) el.style.opacity='1'});
      },200);
    }
    document.getElementById('languageSelect').addEventListener('change', function(){
      switchLanguage(this.value);
    });

    // Tabs
    const tabForm = document.getElementById('tab-form');
    const tabStatus = document.getElementById('tab-status');
    const tabGame = document.getElementById('tab-game');
    const sectionForm = document.getElementById('section-form');
    const sectionStatus = document.getElementById('section-status');
    const sectionGame = document.getElementById('section-game');

    function setActiveTab(which){
      const isForm = which==='form';
      const isStatus = which==='status';
      const isGame = which==='game';
      tabForm.classList.toggle('active', isForm);
      tabStatus.classList.toggle('active', isStatus);
      tabGame.classList.toggle('active', isGame);
      tabForm.setAttribute('aria-selected', isForm ? 'true':'false');
      tabStatus.setAttribute('aria-selected', isStatus ? 'true':'false');
      tabGame.setAttribute('aria-selected', isGame ? 'true':'false');
      sectionForm.classList.toggle('active', isForm);
      sectionStatus.classList.toggle('active', isStatus);
      sectionGame.classList.toggle('active', isGame);
    }
    tabForm.addEventListener('click',()=>setActiveTab('form'));
    tabStatus.addEventListener('click',()=>setActiveTab('status'));
    tabGame.addEventListener('click',()=>{ setActiveTab('game'); startGameIfNeeded(); });

    // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô"
    function goToStatus(){
      setActiveTab('status');
      document.getElementById('section-status').scrollIntoView({behavior:'smooth', block:'start'});
    }
    // ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
    document.getElementById('trackStatusBtn')?.addEventListener('click', (e)=>{ e.preventDefault(); goToStatus(); });
    document.getElementById('trackStatusBtn2')?.addEventListener('click', ()=> goToStatus());

    // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Google Apps Script
    async function sendToGoogleSheets(data){
      try{
        await fetch(GOOGLE_SHEETS_URL,{
          method:'POST',mode:'no-cors',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify(data)
        });
        return true; // no-cors: assume success
      }catch(err){
        console.error('Error sending to Google Sheets:', err);
        return false;
      }
    }

    // Submit ‡∏ü‡∏≠‡∏£‡πå‡∏°
    document.getElementById('repairForm').addEventListener('submit', async function(e){
      e.preventDefault();
      const t = translations[currentLanguage];

      const submitBtn = document.getElementById('submitBtn');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = t.submitBtnLoading;
      submitBtn.disabled = true;

      const formData = {
        reportId: 'RPT' + new Date().getFullYear() + String(reportCounter).padStart(4,'0'),
        studentName: document.getElementById('studentName').value,
        reportType: document.getElementById('reportType').value,
        location: document.getElementById('location').value,
        equipment: document.getElementById('equipment').value,
        problemDescription: document.getElementById('problemDescription').value,
        priority: document.querySelector('input[name="priority"]:checked').value,
        contactInfo: document.getElementById('contactInfo').value || (currentLanguage==='th' ? '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏':'Not specified'),
        timestamp: formatBangkokCE(new Date()),
        timestampISO: new Date().toISOString(),
        language: currentLanguage
      };

      const success = await sendToGoogleSheets(formData);
      if(success){
        document.getElementById('reportNumber').textContent = formData.reportId;
        document.getElementById('successMessage').style.display = 'block';
        document.getElementById('successMessage').scrollIntoView({behavior:'smooth',block:'center'});
        this.reset();
        reportCounter++;
      }else{
        alert(t.errorMessage);
      }
      submitBtn.textContent = originalText;
      submitBtn.disabled = false;
    });

    // ===== ‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°: ‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û) =====
    const questionBank = [
      {
        th:{q:"‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Ç‡∏≠‡∏á‡πÄ‡∏¢‡∏≤‡∏ß‡∏ä‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô?",
            choices:["‡∏û‡∏π‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏£‡∏π‡∏™‡∏±‡πà‡∏á","‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô","‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞","‡∏î‡∏£‡∏≤‡∏°‡πà‡∏≤‡∏ö‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏™‡∏ô‡πÉ‡∏à"],
            explain:"‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡πÑ‡∏°‡πà‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤"},
        en:{q:"Which is a student's right to express opinions safely at school?",
            choices:["Speak only when told by a teacher","Express opinions politely without violating others","Post friends' personal data publicly","Create drama online to get attention"],
            explain:"Students have the right to voice opinions politely while respecting others' rights and school rules"},
        correct:1
      },
      {
        th:{q:"‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ?",
            choices:["‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á","‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏π‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏±‡∏ô","‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏Ç‡πà‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö","‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏î‡πà‡∏≤‡∏ó‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô"],
            explain:"‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏ç‡∏≤‡∏ì ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡∏•‡πà‡∏á ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô"},
        en:{q:"Which is a duty of a good citizen?",
            choices:["Avoid voting","Follow diverse, reliable information sources critically","Share unchecked news","Insult others online"],
            explain:"Key duties include media literacy and respect for others"},
        correct:1
      },
      {
        th:{q:"‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏ô‡∏≠‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
            choices:["‡πÉ‡∏ä‡πâ‡∏ñ‡πâ‡∏≠‡∏¢‡∏Ñ‡∏≥‡∏™‡∏∏‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏¢‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•","‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏î‡πà‡∏≤‡∏ó‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™","‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ó‡πá‡∏à‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à","‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô"],
            explain:"‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÄ‡∏ä‡∏¥‡∏á‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏£‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÉ‡∏Ñ‡∏£"},
        en:{q:"How should you propose ideas to authorities?",
            choices:["Use polite, reasoned arguments","Insult publicly to create hype","Add false info to get attention","Violate others' privacy"],
            explain:"Policy suggestions should be respectful, reasoned, and rights-respecting"},
        correct:0
      },
      {
        th:{q:"‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
            choices:["‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏Ñ‡∏ô‡∏Ñ‡∏¥‡∏î‡∏ï‡πà‡∏≤‡∏á‡∏ú‡∏¥‡∏î‡πÄ‡∏™‡∏°‡∏≠","‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡πÅ‡∏•‡∏∞‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•","‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏£‡∏≤","‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ï‡πà‡∏≤‡∏á"],
            explain:"‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡πÑ‡∏ï‡∏¢‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πâ‡πÅ‡∏¢‡πâ‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏®‡∏£‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå"},
        en:{q:"What does respecting different opinions mean?",
            choices:["Assume opponents are always wrong","Listen and respond with reasons","Force others to agree","Block everyone who disagrees"],
            explain:"Democratic dialogue values reasoned debate and human dignity"},
        correct:1
      },
      {
        th:{q:"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πà‡∏≤‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏ö‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏ä‡∏£‡πå?",
            choices:["‡πÅ‡∏ä‡∏£‡πå‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ","‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà","‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏á ‡πÜ","‡∏Ñ‡∏£‡∏≠‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô"],
            explain:"‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏≤ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏ö‡∏ó ‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏•‡∏≠‡∏°"},
        en:{q:"Before sharing suspicious info online, what should you do?",
            choices:["Share immediately","Check source and publication date","Add a strong personal rant","Crop images to remove context"],
            explain:"Verifying source/date/context helps reduce misinformation"},
        correct:1
      },
      {
        th:{q:"‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏£‚Ä¶",
            choices:["‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏Ñ‡∏£","‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô","‡∏Å‡πà‡∏≠‡∏Å‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πà‡∏≤‡∏ß","‡∏ö‡∏µ‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°"],
            explain:"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤ ‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö"},
        en:{q:"Organizing constructive activities at school should‚Ä¶",
            choices:["Ignore all permissions","Follow rules and request approval properly","Disrupt others to get attention","Pressure friends to join"],
            explain:"Good activities respect rules and shared spaces"},
        correct:1
      },
      {
        th:{q:"‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏£‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô?",
            choices:["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å","‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡∏Ñ‡∏°","‡∏¢‡∏≠‡∏î‡πÑ‡∏•‡∏Å‡πå‡∏ö‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•","‡∏Ñ‡∏≥‡∏ä‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ô‡∏¥‡∏ó‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"],
            explain:"‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Ñ‡∏ß‡∏£‡∏°‡∏≤‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏ß‡∏°"},
        en:{q:"What should accompany the exercise of our rights?",
            choices:["Our own gratification","Impacts on others and society","Social media likes","Only friends' praise"],
            explain:"Rights come with responsibility and social impact"},
        correct:1
      },
      {
        th:{q:"‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå?",
            choices:["‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏±‡∏ç‡∏´‡∏≤-‡πÄ‡∏™‡∏ô‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á","‡∏õ‡∏£‡∏∞‡∏ä‡∏î‡∏õ‡∏£‡∏∞‡∏ä‡∏±‡∏ô-‡∏ï‡∏¥‡∏î‡πÅ‡∏Æ‡∏ä‡πÅ‡∏ó‡πá‡∏Å‡πÅ‡∏£‡∏á ‡πÜ","‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏π‡πà‡∏Å‡∏£‡∏ì‡∏µ","‡πÉ‡∏ä‡πâ‡∏ñ‡πâ‡∏≠‡∏¢‡∏Ñ‡∏≥‡πÄ‡∏´‡∏¢‡∏µ‡∏¢‡∏î‡∏´‡∏¢‡∏≤‡∏°"],
            explain:"‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÄ‡∏ä‡∏¥‡∏á‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏µ = ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‚Üí ‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏Å ‚Üí ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ"},
        en:{q:"Which is constructive expression?",
            choices:["State problem ‚Üí solution ‚Üí expected outcomes","Sarcasm and edgy hashtags","Doxx the opponent","Use demeaning language"],
            explain:"Good policy talk = problem ‚Üí solution ‚Üí measurable outcomes"},
        correct:0
      }
    ];

    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö
    const GAME_LENGTH = 6;

    let gameState = { order: [], index: 0, score: 0, locked: false, started:false };

    function shuffle(arr){
      return [...arr].sort(()=>Math.random()-0.5);
    }

    function startGame(){
      gameState.order = shuffle(questionBank).slice(0, GAME_LENGTH);
      gameState.index = 0;
      gameState.score = 0;
      gameState.locked = false;
      gameState.started = true;

      document.getElementById('scoreBox').style.display = 'none';
      document.getElementById('badgeBox').innerHTML = '';
      document.getElementById('btnRestart').style.display = 'none';
      document.getElementById('btnNext').disabled = true;
      renderQuestion();
    }

    function startGameIfNeeded(){
      if(!gameState.started) startGame();
    }

    function getT(){ return translations[currentLanguage]; }

    function renderQuestion(){
      if(!gameState.started){ return; }
      const t = getT();
      document.getElementById('gameTitle').textContent = t.gameTitle;

      if(gameState.index >= gameState.order.length){
        // ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•
        const scoreEl = document.getElementById('scoreBox');
        scoreEl.textContent = t.gameResult(gameState.score, GAME_LENGTH);
        scoreEl.style.display = 'block';

        const badgeBox = document.getElementById('badgeBox');
        const ratio = gameState.score / GAME_LENGTH;
        let badgeClass='bronze', badgeText=t.gameBadgeBronze;
        if(ratio>=0.84){ badgeClass='gold'; badgeText=t.gameBadgeGold; }
        else if(ratio>=0.5){ badgeClass='silver'; badgeText=t.gameBadgeSilver; }
        badgeBox.innerHTML = `<span class="badge ${badgeClass}">${badgeText}</span>`;

        document.getElementById('btnRestart').style.display = 'inline-block';
        document.getElementById('btnNext').disabled = true;
        document.getElementById('progressText').textContent = t.gameResult(gameState.score, GAME_LENGTH);
        document.getElementById('gameQuestion').textContent = '';
        document.getElementById('choicesWrap').innerHTML = '';
        document.getElementById('explainBox').style.display = 'none';
        document.getElementById('progressBar').style.width = '100%';
        return;
      }

      const q = gameState.order[gameState.index];
      const pack = currentLanguage==='th' ? q.th : q.en;

      document.getElementById('progressText').textContent = `${currentLanguage==='th'?'‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà':'Question'} ${gameState.index+1}/${GAME_LENGTH}`;
      document.getElementById('progressBar').style.width = `${(gameState.index/GAME_LENGTH)*100}%`;

      document.getElementById('gameQuestion').textContent = pack.q;

      const wrap = document.getElementById('choicesWrap');
      wrap.innerHTML = '';
      pack.choices.forEach((text, i)=>{
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'choice';
        btn.textContent = text;
        btn.addEventListener('click', ()=> selectChoice(i, q.correct, pack.explain));
        wrap.appendChild(btn);
      });

      const explainBox = document.getElementById('explainBox');
      explainBox.style.display = 'none';
      explainBox.innerHTML = '';

      const btnNext = document.getElementById('btnNext');
      btnNext.disabled = true;
    }

    function selectChoice(i, correctIndex, explain){
      if(gameState.locked) return;
      gameState.locked = true;

      const choices = Array.from(document.querySelectorAll('.choice'));
      choices.forEach((c, idx)=>{
        if(idx===correctIndex){ c.classList.add('correct'); }
        if(idx===i && i!==correctIndex){ c.classList.add('wrong'); }
        c.disabled = true;
      });

      if(i===correctIndex){ gameState.score++; }

      const t = getT();
      const ex = document.getElementById('explainBox');
      ex.style.display = 'block';
      ex.innerHTML = `<strong>${t.gameExplainTitle}</strong> ${explain}`;

      document.getElementById('btnNext').disabled = false;
    }

    document.getElementById('btnNext').addEventListener('click', ()=>{
      if(gameState.index < gameState.order.length){
        gameState.index++;
        gameState.locked = false;
        renderQuestion();
      }
    });

    document.getElementById('btnSkip').addEventListener('click', ()=>{
      if(gameState.locked) return; // ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
      gameState.index++;
      renderQuestion();
    });

    document.getElementById('btnRestart').addEventListener('click', startGame);

    // Init
    document.addEventListener('DOMContentLoaded', ()=>{
      switchLanguage(document.getElementById('languageSelect').value);
      setActiveTab('form');
    });
  </script>
</body>
</html>
